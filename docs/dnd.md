Как сделать dnd в дереве

Рисуешь обычным образом дерево. Далее, когда начинается dnd,
первое, что необходимо сделать это определить прямоугольники
для всех узлов. Далее, из этих прямоугольников необходимо
создать массив т.н. insertion points. Этот массив будет
использоваться для определения места вставки: при каждом
движении мыши нужно будет найти точку ближайшую к курсору.
Это и будет место вставки.

    colors
        red
        green
        blue
    shapes
        circle
        square
        triangle
